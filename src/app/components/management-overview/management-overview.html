<div style="width: 100%;">
    <a class="homelink" routerLink="/home">&#8594; Home</a>
    <div class="info-icon" (click)="toggle_info()"><i class="bi bi-info-circle"></i></div>
</div>

@if (show_info) {
    <div class="alert alert-info">
        <span>Total: Total hours worked in the last 12 months.</span><br>
        <span>Requested: Total of hours requested to work in the last 12 months.</span>
        <br>
    </div>
}

@if (initialized) {
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
            <thead class="thead-light">
                <tr>
                    <td>Name</td>
                    <td>Total</td>
                    <td>Requested</td>
                    @for (month of overview_data.months; track $index) {
                        <td>{{ month | date:"yyyy - MM" }}</td>
                    }
                </tr>
            </thead>
            <tbody class="table-dark table-striped">
                @for (user of overview_data.users; track $index) {
                    <tr>
                        <td>{{ user.name }}</td>
                        <td>{{ user.total }}</td>
                        <td>{{ (user.total / user.requested) * 100 | number:'1.0-0' }}%</td>
                        @for (hours of user.confirmed; track $index) {
                            <td>{{ hours }}</td>
                        }
                    </tr>
                }
                <tr></tr>
            </tbody>
        </table>
    </div>
}